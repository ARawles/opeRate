<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>7.1 Abstraction | opeRate</title>
  <meta name="description" content="Apply your knowledge of the R programming language to real problems and tasks." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="7.1 Abstraction | opeRate" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="cover.png" />
  <meta property="og:description" content="Apply your knowledge of the R programming language to real problems and tasks." />
  <meta name="github-repo" content="ARawles/opeRate" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7.1 Abstraction | opeRate" />
  
  <meta name="twitter:description" content="Apply your knowledge of the R programming language to real problems and tasks." />
  <meta name="twitter:image" content="cover.png" />

<meta name="author" content="Adam Rawles" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="prev" href="theory.html"/>
<link rel="next" href="organisation.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/viz-1.8.2/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.6.1/grViz.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> opeRate</a>
<ul>
<li class="chapter" data-level="1.1" data-path="overview.html"><a href="overview.html"><i class="fa fa-check"></i><b>1.1</b> Overview</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="overview.html"><a href="overview.html#acknowledgements"><i class="fa fa-check"></i><b>1.1.1</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="about-me.html"><a href="about-me.html"><i class="fa fa-check"></i><b>1.2</b> About Me</a></li>
<li class="chapter" data-level="1.3" data-path="using-r.html"><a href="using-r.html"><i class="fa fa-check"></i><b>1.3</b> Using R</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="workflow.html"><a href="workflow.html"><i class="fa fa-check"></i><b>2</b> Workflow</a>
<ul>
<li class="chapter" data-level="2.1" data-path="basic-workflows.html"><a href="basic-workflows.html"><i class="fa fa-check"></i><b>2.1</b> Basic Workflows</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="basic-workflows.html"><a href="basic-workflows.html#example-1-reporting"><i class="fa fa-check"></i><b>2.1.1</b> Example 1: Reporting</a></li>
<li class="chapter" data-level="2.1.2" data-path="basic-workflows.html"><a href="basic-workflows.html#example-2-modelling"><i class="fa fa-check"></i><b>2.1.2</b> Example 2: Modelling</a></li>
<li class="chapter" data-level="2.1.3" data-path="basic-workflows.html"><a href="basic-workflows.html#summary"><i class="fa fa-check"></i><b>2.1.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="replicability.html"><a href="replicability.html"><i class="fa fa-check"></i><b>2.2</b> Replicability</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="replicability.html"><a href="replicability.html#good-practice"><i class="fa fa-check"></i><b>2.2.1</b> Good practice</a></li>
<li class="chapter" data-level="2.2.2" data-path="replicability.html"><a href="replicability.html#rmarkdown"><i class="fa fa-check"></i><b>2.2.2</b> RMarkdown</a></li>
<li class="chapter" data-level="2.2.3" data-path="replicability.html"><a href="replicability.html#shiny"><i class="fa fa-check"></i><b>2.2.3</b> Shiny</a></li>
<li class="chapter" data-level="2.2.4" data-path="replicability.html"><a href="replicability.html#projects-as-packages"><i class="fa fa-check"></i><b>2.2.4</b> Projects as packages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>3</b> Tidyverse</a>
<ul>
<li class="chapter" data-level="3.1" data-path="tidyr.html"><a href="tidyr.html"><i class="fa fa-check"></i><b>3.1</b> tidyr</a></li>
<li class="chapter" data-level="3.2" data-path="dplyr.html"><a href="dplyr.html"><i class="fa fa-check"></i><b>3.2</b> dplyr</a></li>
<li class="chapter" data-level="3.3" data-path="stringr.html"><a href="stringr.html"><i class="fa fa-check"></i><b>3.3</b> stringr</a></li>
<li class="chapter" data-level="3.4" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>3.4</b> ggplot2</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-analysis.html"><a href="data-analysis.html"><i class="fa fa-check"></i><b>4</b> Data Analysis</a>
<ul>
<li class="chapter" data-level="4.1" data-path="loading-data.html"><a href="loading-data.html"><i class="fa fa-check"></i><b>4.1</b> Loading data</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="loading-data.html"><a href="loading-data.html#csv"><i class="fa fa-check"></i><b>4.1.1</b> csv</a></li>
<li class="chapter" data-level="4.1.2" data-path="loading-data.html"><a href="loading-data.html#excel-files"><i class="fa fa-check"></i><b>4.1.2</b> Excel files</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="apis-advanced.html"><a href="apis-advanced.html"><i class="fa fa-check"></i><b>4.2</b> APIs (Advanced)</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="apis-advanced.html"><a href="apis-advanced.html#what-are-apis"><i class="fa fa-check"></i><b>4.2.1</b> What are APIs?</a></li>
<li class="chapter" data-level="4.2.2" data-path="apis-advanced.html"><a href="apis-advanced.html#accessing-apis-in-r"><i class="fa fa-check"></i><b>4.2.2</b> Accessing APIs in R</a></li>
<li class="chapter" data-level="4.2.3" data-path="apis-advanced.html"><a href="apis-advanced.html#bmrsr"><i class="fa fa-check"></i><b>4.2.3</b> BMRSr</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="cleaning-data.html"><a href="cleaning-data.html"><i class="fa fa-check"></i><b>4.3</b> Cleaning data</a></li>
<li class="chapter" data-level="4.4" data-path="summary-statistics.html"><a href="summary-statistics.html"><i class="fa fa-check"></i><b>4.4</b> Summary statistics</a></li>
<li class="chapter" data-level="4.5" data-path="plots.html"><a href="plots.html"><i class="fa fa-check"></i><b>4.5</b> Plots</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="programming-in-r.html"><a href="programming-in-r.html"><i class="fa fa-check"></i><b>5</b> Programming in R</a>
<ul>
<li class="chapter" data-level="5.1" data-path="user-defined-functions.html"><a href="user-defined-functions.html"><i class="fa fa-check"></i><b>5.1</b> User-defined functions</a></li>
<li class="chapter" data-level="5.2" data-path="for-loops.html"><a href="for-loops.html"><i class="fa fa-check"></i><b>5.2</b> For loops</a></li>
<li class="chapter" data-level="5.3" data-path="ifelse-statements.html"><a href="ifelse-statements.html"><i class="fa fa-check"></i><b>5.3</b> If/else statements</a></li>
<li class="chapter" data-level="5.4" data-path="applying-functions.html"><a href="applying-functions.html"><i class="fa fa-check"></i><b>5.4</b> Applying functions</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="advanced-data-analysis.html"><a href="advanced-data-analysis.html"><i class="fa fa-check"></i><b>6</b> Advanced data analysis</a></li>
<li class="chapter" data-level="7" data-path="theory.html"><a href="theory.html"><i class="fa fa-check"></i><b>7</b> Theory</a>
<ul>
<li class="chapter" data-level="7.1" data-path="abstraction.html"><a href="abstraction.html"><i class="fa fa-check"></i><b>7.1</b> Abstraction</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="abstraction.html"><a href="abstraction.html#definition"><i class="fa fa-check"></i><b>7.1.1</b> Definition</a></li>
<li class="chapter" data-level="7.1.2" data-path="abstraction.html"><a href="abstraction.html#abstraction-in-r"><i class="fa fa-check"></i><b>7.1.2</b> Abstraction in R</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="organisation.html"><a href="organisation.html"><i class="fa fa-check"></i><b>7.2</b> Organisation</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="organisation.html"><a href="organisation.html#packages-as-projects"><i class="fa fa-check"></i><b>7.2.1</b> Packages as projects</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="iteration.html"><a href="iteration.html"><i class="fa fa-check"></i><b>7.3</b> Iteration</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="iteration.html"><a href="iteration.html#for-loops-and-lists"><i class="fa fa-check"></i><b>7.3.1</b> For loops and lists</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">opeRate</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="abstraction" class="section level2" number="7.1">
<h2><span class="header-section-number">7.1</span> Abstraction</h2>
<div id="definition" class="section level3" number="7.1.1">
<h3><span class="header-section-number">7.1.1</span> Definition</h3>
<p>Abstraction is the idea of removing levels of complexity. For example, when you press a key on your keyboard and a letter appears on the screen, you don’t need to know how the keyboard interfaces with the computer, or how that stroke is eventually turned into coloured pixels on a screen. That degree of complexity has been <strong>abstracted</strong> away.</p>
<p>Another example is a calculator. You type in the numbers and decide what you want to do, and your general goal (say, adding two numbers together) is translated into the practicality of performing that action. Your general goal is translated into lots of little more specific ones.</p>
<p>The idea of abstraction is a very prevalent one in computer science. R itself is an abstraction; it lets you interface with the CPU without having to know everything about it. Understanding abstraction and particularly how it relates to functional programming and R can greatly improve the efficiency of your code. Understanding and applying abstraction is more of an art than a science. By abstracting away complexity, you make things easier for the user but you will take away some of the flexability, and so applying the concept of abstraction to your projects will always be a balancing act.</p>
</div>
<div id="abstraction-in-r" class="section level3" number="7.1.2">
<h3><span class="header-section-number">7.1.2</span> Abstraction in R</h3>
<p>The best way to demonstrate how powerful abstraction can be in R is probably through an example. Let’s imagine you want to create a full suite of graphics for a reporting project you’re working on. You’re going to want to create 10 different line charts and 5 different bar charts using different variables from different datasets. Let’s look at some different ways we could go about doing this, applying different levels of abstraction:</p>
<div id="approach-1" class="section level4" number="7.1.2.1">
<h4><span class="header-section-number">7.1.2.1</span> Approach 1</h4>
<p>Create a different function for each plot. The function would take the dataset and spit out the graphic, a bit like this:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="abstraction.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb19-2"><a href="abstraction.html#cb19-2" aria-hidden="true" tabindex="-1"></a>create_first_linechart <span class="ot">&lt;-</span> <span class="cf">function</span>(data) {</span>
<span id="cb19-3"><a href="abstraction.html#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> column1, <span class="at">y =</span> column2, <span class="at">colour =</span> column3)) <span class="sc">+</span></span>
<span id="cb19-4"><a href="abstraction.html#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>()</span>
<span id="cb19-5"><a href="abstraction.html#cb19-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>We would eventually have 15 different functions - one for each plot - that we could call to produce all of our graphics. Like this:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="abstraction.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb20-2"><a href="abstraction.html#cb20-2" aria-hidden="true" tabindex="-1"></a>dataset1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;my_dataset1.csv&quot;</span>)</span>
<span id="cb20-3"><a href="abstraction.html#cb20-3" aria-hidden="true" tabindex="-1"></a>dataset2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;my_dataset2.csv&quot;</span>)</span>
<span id="cb20-4"><a href="abstraction.html#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="abstraction.html#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="fu">create_first_linechart</span>(dataset1)</span>
<span id="cb20-6"><a href="abstraction.html#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="fu">create_second_linechart</span>(dataset2)</span>
<span id="cb20-7"><a href="abstraction.html#cb20-7" aria-hidden="true" tabindex="-1"></a>.</span>
<span id="cb20-8"><a href="abstraction.html#cb20-8" aria-hidden="true" tabindex="-1"></a>.</span>
<span id="cb20-9"><a href="abstraction.html#cb20-9" aria-hidden="true" tabindex="-1"></a>.</span></code></pre></div>
</div>
<div id="approach-2" class="section level4" number="7.1.2.2">
<h4><span class="header-section-number">7.1.2.2</span> Approach 2</h4>
<p>We could create a function that will create all of the line charts and then a separate function that will create all of our bar charts. Our function to create our line charts might look like this:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="abstraction.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb21-2"><a href="abstraction.html#cb21-2" aria-hidden="true" tabindex="-1"></a>create_linechart <span class="ot">&lt;-</span> <span class="cf">function</span>(data, x, y, colour) {</span>
<span id="cb21-3"><a href="abstraction.html#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> {{ x }}, <span class="at">y =</span> {{ y }}, <span class="at">colour =</span> {{ colour }})) <span class="sc">+</span></span>
<span id="cb21-4"><a href="abstraction.html#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>()</span>
<span id="cb21-5"><a href="abstraction.html#cb21-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>The <code>{{ }}</code> brackets let us pass column names from our function to the <code>aes()</code> function in <code>ggplot2</code>.</p>
<p>Then we’d still have to make 15 separate calls to create our graphics, but we’d have much less code to debug if something went wrong because we’re only relying on two functions, not the 15 we were before.</p>
</div>
<div id="approach-3" class="section level4" number="7.1.2.3">
<h4><span class="header-section-number">7.1.2.3</span> Approach 3</h4>
<p>We’ve reduced the amount of code we have to write to define all the functions we’re going to need, but we’re still repeating ourselves by calling the same functions 10 and 5 times with slightly different parameters. Instead, we could create a list that holds</p>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="theory.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="organisation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
